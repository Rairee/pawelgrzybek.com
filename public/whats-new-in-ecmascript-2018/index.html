<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width"><meta name=author content="Pawel Grzybek - https://pawelgrzybek.com"><meta name=generator content="Hugo 0.80.0"><title>What's new in ECMAScript 2018 | pawelgrzybek.com</title><meta name=description content="The last TC39 meeting resulted in finalised features set for ECMAScript 2018. This article presents all the new goodies — let&rsquo;s get on it."><meta property="og:site_name" content="pawelgrzybek.com"><meta property="og:title" content="What's new in ECMAScript 2018 | pawelgrzybek.com"><meta property="og:url" content="https://pawelgrzybek.com/whats-new-in-ecmascript-2018/"><meta property="og:type" content="article"><meta property="og:description" content="The last TC39 meeting resulted in finalised features set for ECMAScript 2018. This article presents all the new goodies — let&rsquo;s get on it."><meta property="og:image" content="https://pawelgrzybek.com/photos/2018-01-29.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@pawelgrzybek"><meta name=twitter:creator content="@pawelgrzybek"><link rel=canonical href=https://pawelgrzybek.com/whats-new-in-ecmascript-2018/><link rel=alternate type=application/rss+xml title=pawelgrzybek.com href=https://pawelgrzybek.com/feed.xml><link rel=alternate type=application/feed+json title=pawelgrzybek.com href=https://pawelgrzybek.com/feed.json><link rel=apple-touch-icon sizes=180x180 href=/assets/apple-touch-icon-180x180.png><link rel=icon type=image/png href=/assets/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/assets/favicon-16x16.png sizes=16x16><link rel=manifest href=/assets/manifest.json><link rel="shortcut icon" href=/assets/favicon.ico><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/assets/mstile-144x144.png"><meta name=theme-color content="#ffffff"><style>:root{--fz: 1rem;--fzb: 106.25%;--lh: 1.764705882rem;--type-scale: 1.25;--color-text: #24292e;--color-background: #fff;--color-link: #005cc5;--color-update-background: #fbebea;--color-update-border: #edb0ab;--color-box-background: #f7f7f7;--color-box-border: #eee;--color-box-border-dark: #ddd;--color-syntax-k: #006699;--color-syntax-s: #cc3300;--color-syntax-m: #ff6600;--color-syntax-c: #999;--color-syntax-nb: #366;--color-syntax-o: #555555;--color-syntax-na: #330099;--color-syntax-nv: #003333}@media screen and (min-width:764px){:root{--fzb: 112.5%;--lh: 1.77778rem}}@media(prefers-color-scheme:dark){:root{--color-text: #fafbfc;--color-background: #24292e;--color-link: #9ecbff;--color-update-background: #6d3733;--color-update-border: #522926;--color-box-background: hsl(210, 12%, 12%);--color-box-border: hsl(210, 12%, 20%);--color-box-border-dark: hsl(210, 12%, 30%);--color-syntax-k: #9ecbff;--color-syntax-s: #f97583;--color-syntax-m: #ffab70;--color-syntax-c: #6a737d;--color-syntax-nb: #28a745;--color-syntax-o: #959da5;--color-syntax-na: #fafbfc;--color-syntax-nv: #00b1b1}}::selection{background:var(--color-link);color:#fff;text-shadow:none}html{font-size:var(--fzb);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased;-webkit-text-size-adjust:100%;box-sizing:border-box;scroll-behavior:smooth}*,*::before,*::after{margin:0;padding:0;box-sizing:inherit}body{background-color:var(--color-background);color:var(--color-text);font-family:-apple-system,BlinkMacSystemFont,segoe ui,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol;font-size:var(--fz);line-height:var(--lh)}img{display:block;max-width:100%;height:auto;border:0}a{background:0 0;color:var(--color-link);word-wrap:break-word}a:hover,a:focus,a:active{color:var(--color-text)}p,h1,h2,h3,h4,h5,h6{margin-bottom:var(--lh)}h1,h2,h3,h4,h5,h6{margin-top:calc(var(--lh) * 1.5);font-weight:700;text-decoration:none}h1{font-size:calc( var(--fz) * var(--type-scale) * var(--type-scale) * var(--type-scale));line-height:calc(var(--lh) * 1.5)}h2{font-size:calc(var(--fz) * var(--type-scale) * var(--type-scale))}h3{font-size:calc(var(--fz) * var(--type-scale))}h4{font-size:1rem}h5{font-size:calc(var(--fz)/var(--type-scale))}h6{font-size:calc(var(--fz)/var(--type-scale)/var(--type-scale))}ul,ol{margin:0 0 var(--lh)var(--lh)}li ul,li ol{margin:0 0 0 var(--lh)}hr{display:block;height:var(--lh);border:0;box-shadow:0 1px 0 #eee}blockquote{margin-bottom:var(--lh);padding:var(--lh);background:var(--color-box-background);box-shadow:inset 0 0 0 1px var(--color-box-border)}blockquote p{margin:0;font-style:italic}figure{margin-bottom:var(--lh)}figcaption{font-size:var(--fz)/var(--type-scale)/var(--type-scale)}.wrapper{width:100%;max-width:calc(700px + (2 * var(--lh)));margin:0 auto;padding:0 var(--lh)}.wrapper--wide{max-width:calc(900px + (2 * var(--lh)))}.header{position:relative;padding:calc(var(--lh) * 2) 0;display:flex;flex-direction:column}.header__skip{position:absolute;top:0;left:0;padding:0 calc(var(--lh)/2);font-size:calc(var(--fz)/var(--type-scale));transform:scale(0)}.header__skip:focus{transform:scale(1)}.header__logo{display:flex;align-items:center;justify-content:center;margin:0;font-size:calc(var(--fz));line-height:var(--lh)}.header__logo a{display:flex;flex-direction:column;align-items:center;font-weight:700;margin:0 0 calc(var(--lh)/2)}.header__logo a::before{content:"";width:calc(var(--lh) * 2);height:calc(var(--lh) * 2);margin:0 0 calc(var(--lh)/2);background-image:url(/assets/logo.jpg);background-size:100% 100%;border-radius:var(--lh)}.header__list{height:100%;display:flex;align-items:center;justify-content:center;list-style:none;margin:0}.header__item{margin-right:calc(var(--lh)/2)}.header__item:last-of-type{margin-right:0}@media screen and (min-width:764px){.header{flex-direction:row;justify-content:space-between;padding:calc(var(--lh) * 3) 0}.header__logo a{flex-direction:row;margin:0}.header__logo a::before{content:"";width:calc(var(--lh) * 2);height:calc(var(--lh) * 2);margin:0 calc(var(--lh)/2) 0 0;background-image:url(/assets/logo.jpg);background-size:100% 100%;border-radius:var(--lh)}}@media screen and (min-width:964px){.header__logo::after{font-weight:400;white-space:pre;color:var(--color-text);content:" | Software Engineer at Mindera"}}.post{margin-bottom:calc(var(--lh) * 3)}.post__title{margin-top:0}.post__url{color:var(--color-text);text-decoration:none}.post__url:hover{color:var(--color-link)}.post__meta{margin-top:calc(var(--lh) * -1);font-size:calc(var(--fz)/var(--type-scale))}.post__more{text-decoration:none;vertical-align:top}.post__hash{text-decoration:none;margin-left:calc(var(--lh)/4);color:var(--color-text);opacity:.25}.post__hash:hover{color:var(--color-link);opacity:1}.footer{color:var(--color-text);font-size:calc(var(--fz)/var(--type-scale)/var(--type-scale));font-weight:700;text-decoration:none;vertical-align:top;padding:calc(var(--lh) * 2) 0}.pager{display:flex}.pager__btn{flex-grow:1;font-size:calc(var(--fz)/var(--type-scale));font-weight:700;text-decoration:none;vertical-align:top}.pager__btn--prev{text-align:left}.pager__btn--next{text-align:right}.share{display:flex;align-items:center;background-color:var(--color-box-background);box-shadow:0 0 0 1px var(--color-box-border);margin:calc(var(--lh) * 2) 0;padding:calc(var(--lh)/2);font-size:calc(var(--fz)/var(--type-scale))}.share__icon{fill:#1da1f2;margin-right:calc(var(--lh)/2);width:var(--fz);height:var(--fz);flex-shrink:0}.share__text{margin:0}.archive{margin-left:0;list-style:none}.archive__item{padding:calc(var(--lh)/2) 0;box-shadow:0 1px 0 0 var(--color-box-border)}.archive__link{font-weight:700;text-decoration:none;color:var(--color-text)}.archive__link:hover{color:var(--color-link)}.archive__date{margin:0;font-size:calc(var(--fz)/var(--type-scale))}code,pre{border-radius:3px;background-color:var(--color-box-background);font-family:SFMono-Regular,Consolas,liberation mono,Menlo,Courier,monospace;font-size:.888889rem;vertical-align:top}pre{margin-bottom:var(--lh);padding:var(--lh);box-shadow:0 0 0 1px var(--color-box-border);overflow-x:auto}p code,li code{padding:4px 6px;box-shadow:0 0 0 1px var(--color-box-border)}kbd{border-radius:3px;background-color:var(--color-box-background);font-family:SFMono-Regular,Consolas,liberation mono,Menlo,Courier,monospace;font-size:.888889rem;vertical-align:top;padding:4px 6px;box-shadow:0 0 0 1px var(--color-box-border)}.chroma{background-color:var(--color-box-background)}.chroma .err{background-color:#faa;color:#a00}.chroma .lntd{margin:0;padding:0;border:0;vertical-align:top}.chroma .lntable{display:block;width:auto;margin:0;padding:0;border:0;border-spacing:0;overflow:auto}.chroma .hl{display:block;width:100%;background-color:var(--color-box-border)}.chroma .lnt{display:block;margin-right:.4em;padding:0 .4em;opacity:.5}.chroma .ln{margin-right:.4em;padding:0 .4em}.chroma .k{color:var(--color-syntax-k);font-weight:700}.chroma .kc{color:var(--color-syntax-k);font-weight:700}.chroma .kd{color:var(--color-syntax-k);font-weight:700}.chroma .kn{color:var(--color-syntax-k);font-weight:700}.chroma .kp{color:var(--color-syntax-k)}.chroma .kr{color:var(--color-syntax-k);font-weight:700}.chroma .kt{color:#078;font-weight:700}.chroma .na{color:var(--color-syntax-na)}.chroma .nb{color:var(--color-syntax-nb)}.chroma .nc{color:#0a8;font-weight:700}.chroma .no{color:#360}.chroma .nd{color:#99f}.chroma .ni{color:#999;font-weight:700}.chroma .ne{color:#c00;font-weight:700}.chroma .nf{color:#c0f}.chroma .nl{color:#99f}.chroma .nn{color:#0cf;font-weight:700}.chroma .nt{color:var(--color-syntax-na);font-weight:700}.chroma .nv{color:var(--color-syntax-nv)}.chroma .s{color:var(--color-syntax-s)}.chroma .sa{color:var(--color-syntax-s)}.chroma .sb{color:var(--color-syntax-s)}.chroma .sc{color:var(--color-syntax-s)}.chroma .dl{color:var(--color-syntax-s)}.chroma .sd{color:var(--color-syntax-s);font-style:italic}.chroma .s2{color:var(--color-syntax-s)}.chroma .se{color:var(--color-syntax-s);font-weight:700}.chroma .sh{color:var(--color-syntax-s)}.chroma .si{color:#a00}.chroma .sx{color:var(--color-syntax-s)}.chroma .sr{color:#3aa}.chroma .s1{color:var(--color-syntax-s)}.chroma .ss{color:#fc3}.chroma .m{color:var(--color-syntax-m)}.chroma .mb{color:var(--color-syntax-m)}.chroma .mf{color:var(--color-syntax-m)}.chroma .mh{color:var(--color-syntax-m)}.chroma .mi{color:var(--color-syntax-m)}.chroma .il{color:var(--color-syntax-m)}.chroma .mo{color:var(--color-syntax-m)}.chroma .o{color:var(--color-syntax-o)}.chroma .ow{color:#000;font-weight:700}.chroma .c{color:#999;font-style:italic}.chroma .ch{color:#999;font-style:italic}.chroma .cm{color:#999;font-style:italic}.chroma .c1{color:#999;font-style:italic}.chroma .cs{color:#999;font-style:italic;font-weight:700}.chroma .cp{color:#099}.chroma .cpf{color:#099}.chroma .gd{background-color:#fcc}.chroma .ge{font-style:italic}.chroma .gr{color:red}.chroma .gh{color:#030;font-weight:700}.chroma .gi{background-color:#cfc}.chroma .go{color:#aaa}.chroma .gp{color:#009;font-weight:700}.chroma .gs{font-weight:700}.chroma .gu{color:#030;font-weight:700}.chroma .gt{color:#9c6}.chroma .w{color:#bbb}.update{position:relative;padding:var(--lh);background-color:var(--color-update-background);box-shadow:0 0 0 1px var(--color-update-border)}.update::before{position:absolute;top:calc(var(--lh)/-2);left:calc(var(--lh)/2);height:var(--lh);padding:0 calc(var(--lh)/2);background-color:var(--color-update-border);color:#fff;font-size:calc(var(--fz)/var(--type-scale));font-weight:700;content:"Update"}.comments{list-style:none;margin-left:0}.comments__item{scroll-margin-top:var(--lh)}.comments__item .comments{box-shadow:inset 1px 0 0 var(--color-box-border-dark);padding-left:var(--lh)}.comments__item .comments .comments__author{position:relative}.comments__item .comments .comments__author::before{position:absolute;top:50%;left:calc(var(--lh) * -1);width:calc(var(--lh)/4);height:calc(var(--lh)/4);background:var(--color-box-border-dark);transform:translate(-50%,-50%);border-radius:50%;content:""}.comments__wrapper{margin-bottom:var(--lh);word-wrap:break-word}.comments__author{display:flex;margin-bottom:var(--lh)}.comments__author__photo{width:calc(var(--lh) * 1.5);height:calc(var(--lh) * 1.5);margin-right:calc(var(--lh)/2)}.comments__author__data{flex-grow:1;min-width:1px}.comments__author__name{font-weight:700;line-height:calc(var(--lh) * 0.75);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.comments__author__metadata{font-size:calc(var(--fz)/var(--type-scale)/var(--type-scale));line-height:calc(var(--lh) * 0.75);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.comments__hash{color:inherit;text-decoration:none;text-transform:uppercase}.comments__reply{margin-bottom:calc(var(--lh)/2);background:0 0;display:block;height:var(--lh);border:0;color:var(--color-link);font:inherit;font-size:calc(var(--fz)/var(--type-scale));cursor:pointer}.form{display:flex;flex-wrap:wrap;position:relative}.form--sending{opacity:.25}.form--sending::before{content:"";position:absolute;top:0;left:0;width:100%;height:100%}.form--hidden{display:none}.form__col{display:flex;flex-direction:column;flex-grow:1;width:100%;margin-bottom:calc(var(--lh)/2)}@media screen and (min-width:764px){.form__col:nth-of-type(2),.form__col:nth-of-type(3),.form__col:nth-of-type(4){width:100px;margin-right:calc(var(--lh)/2)}.form__col:nth-of-type(4){margin-right:0}}.form__row{display:flex;width:100%;flex-direction:row;align-items:center;min-width:1px;margin-bottom:calc(var(--lh)/2)}.form__label{font-weight:600;font-size:calc(var(--fz)/var(--type-scale))}.form__label--thin{font-weight:400;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.form__input{-webkit-appearance:none;border-radius:0;border:1px solid var(--color-box-border-dark);background-color:var(--color-background);height:calc(var(--lh) * 1.5);padding:0 calc(var(--lh)/2);color:var(--color-text);font:inherit}.form__input--textarea{padding:calc(var(--lh)/4) calc(var(--lh)/2);min-height:calc(var(--lh) * 4);resize:vertical}.form__tip{font-size:calc(var(--fz)/var(--type-scale)/var(--type-scale));margin-bottom:0;text-align:right}.form__checkboxlabel{font-size:calc(var(--fz)/var(--type-scale));white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:flex;align-items:center;margin-bottom:calc(var(--lh)/2);min-width:1px}.form__checkbox{margin-right:calc(var(--lh)/4);cursor:pointer}.form__button{background:var(--color-link);color:var(--color-background);border:0;font:inherit;padding:calc(var(--lh)/4) var(--lh);cursor:pointer;font-size:calc(var(--fz)/var(--type-scale));font-weight:600}.moderation{background-color:var(--color-box-background);box-shadow:0 0 0 1px var(--color-box-border);padding:calc(var(--lh)/2);font-size:calc(var(--fz)/var(--type-scale))}.moderation--hidden{display:none}</style></head><body><div class="wrapper wrapper--wide"><header class=header><a class=header__skip href=#main>Skip to content</a><div class=header__logo><a href=/>pawelgrzybek.com</a></div><nav><ul class=header__list><li class=header__item><a href=/about title=About>About</a></li><li class=header__item><a href=/archive title=Archive>Archive</a></li><li class=header__item><a href=/feed.xml title="RSS Feed">RSS</a></li><li class=header__item><a href=https://twitter.com/pawelgrzybek title="Pawel Grzybek on Twitter">Twitter</a></li><li class=header__item><a href=https://github.com/pawelgrzybek title="Pawel Grzybek on Github">Github</a></li></ul></nav></header></div><div class=wrapper><main id=main><article class="post js-post"><h1 class=post__title>What's new in ECMAScript 2018</h1><p class=post__meta>Published: <time datetime=2018-01-29>2018.01.29</time> | 4 minutes read</p><p>It is that time of a year again after the TC39 meeting, which finalises a list of new features that we will get in the latest ECMAScript 2018 update. I published a list of new goodies for <a href=https://pawelgrzybek.com/whats-new-in-ecmascript-2017/>2017 version</a>, just as I did in <a href=https://pawelgrzybek.com/whats-new-in-ecmascript-2016-es7/>2016</a>. It is a good time to familiarise ourseves with the new features soon to be at to our disposal this year.</p><h2 id=restspread-properties-by-sebastian-markbåge>Rest/Spread Properties by Sebastian Markbåge <a href=#restspread-properties-by-sebastian-markb%c3%a5ge class=post__hash>#</a></h2><p>ECMASCript 2015 introuduced rest / spread operators for <code>Array</code>s. This year the same feature welcomes <code>Object</code>s. Let&rsquo;s have a look at two examples.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>const</span> <span class=nx>dude</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Pawel&#39;</span><span class=p>,</span>
  <span class=nx>age</span><span class=o>:</span> <span class=mi>30</span><span class=p>,</span>
  <span class=nx>role</span><span class=o>:</span> <span class=s1>&#39;Front End Developer&#39;</span><span class=p>,</span>
<span class=p>}</span>
<span class=kr>const</span> <span class=p>{</span> <span class=nx>name</span><span class=p>,</span> <span class=p>...</span><span class=nx>details</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>dude</span><span class=p>;</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span>
<span class=c1>// Pawel
</span><span class=c1></span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>details</span><span class=p>);</span>
<span class=c1>// {
</span><span class=c1>//   age: 30,
</span><span class=c1>//   role: &#39;Front End Developer&#39;,
</span><span class=c1>// }
</span></code></pre></div><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>const</span> <span class=nx>details</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>age</span><span class=o>:</span> <span class=mi>30</span><span class=p>,</span>
  <span class=nx>role</span><span class=o>:</span> <span class=s1>&#39;Front End Developer&#39;</span><span class=p>,</span>
<span class=p>}</span>

<span class=kr>const</span> <span class=nx>dude</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Pawel&#39;</span><span class=p>,</span>
  <span class=p>...</span><span class=nx>details</span>
<span class=p>}</span>

<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>dude</span><span class=p>);</span>
<span class=c1>// {
</span><span class=c1>//   name: &#39;Pawel&#39;,
</span><span class=c1>//   age: 30,
</span><span class=c1>//   role: &#39;Front End Developer&#39;,
</span><span class=c1>// }
</span></code></pre></div><ul><li><a href=https://github.com/tc39/proposal-object-rest-spread>Object Rest/Spread Properties proposal for ECMAScript</a></li><li><a href=http://2ality.com/2016/10/rest-spread-properties.html>ES2018: Rest/Spread Properties by Dr. Axel Rauschmayer</a></li></ul><h2 id=asynchronous-iteration-by-domenic-denicola>Asynchronous Iteration by Domenic Denicola <a href=#asynchronous-iteration-by-domenic-denicola class=post__hash>#</a></h2><p>Introduced in ECMAScript 2015, iterator interface returns an object with <code>{ value, done }</code> keys via <code>next()</code> interface. It is possible to use it with iterables that are known ahead of time. The <code>asyncIterator</code> allows us to replicate the same functionality for asynchronous operations and returns a promise for a <code>{ value, done }</code> pair.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>async</span> <span class=kd>function</span><span class=o>*</span> <span class=nx>createAsyncIterable</span><span class=p>(</span><span class=nx>iterable</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>elem</span> <span class=k>of</span> <span class=nx>iterable</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>yield</span> <span class=nx>elem</span><span class=p>;</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kr>const</span> <span class=nx>asyncIterable</span> <span class=o>=</span> <span class=nx>createAsyncIterable</span><span class=p>([</span><span class=s1>&#39;async 1&#39;</span><span class=p>,</span> <span class=s1>&#39;async 2&#39;</span><span class=p>]);</span>
<span class=kr>const</span> <span class=nx>asyncIterator</span> <span class=o>=</span> <span class=nx>asyncIterable</span><span class=p>[</span><span class=nx>Symbol</span><span class=p>.</span><span class=nx>asyncIterator</span><span class=p>]();</span>
<span class=nx>asyncIterator</span><span class=p>.</span><span class=nx>next</span><span class=p>()</span>
<span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>result</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
    <span class=c1>// {
</span><span class=c1></span>    <span class=c1>//   value: &#39;async 1&#39;,
</span><span class=c1></span>    <span class=c1>//   done: false,
</span><span class=c1></span>    <span class=c1>// }
</span><span class=c1></span>    <span class=k>return</span> <span class=nx>asyncIterator</span><span class=p>.</span><span class=nx>next</span><span class=p>();</span>
<span class=p>})</span>
<span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>result</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
    <span class=c1>// {
</span><span class=c1></span>    <span class=c1>//   value: &#39;async 2&#39;,
</span><span class=c1></span>    <span class=c1>//   done: false,
</span><span class=c1></span>    <span class=c1>// }
</span><span class=c1></span>    <span class=k>return</span> <span class=nx>asyncIterator</span><span class=p>.</span><span class=nx>next</span><span class=p>();</span>
<span class=p>})</span>
<span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>result</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
    <span class=c1>// {
</span><span class=c1></span>    <span class=c1>//   value: &#39;undefined&#39;,
</span><span class=c1></span>    <span class=c1>//   done: true,
</span><span class=c1></span>    <span class=c1>// }
</span><span class=c1></span><span class=p>});</span>
</code></pre></div><ul><li><a href=https://github.com/tc39/proposal-async-iteration>Asynchronous iteration proposal</a></li><li><a href=http://2ality.com/2016/10/asynchronous-iteration.html>ES2018: asynchronous iteration by Dr. Axel Rauschmayer</a></li><li><a href=https://ponyfoo.com/articles/javascript-asynchronous-iteration-proposal>JavaScript Asynchronous Iteration Proposal by Nicolás Bevacqua</a></li></ul><h2 id=promiseprototypefinally>Promise.prototype.finally <a href=#promiseprototypefinally class=post__hash>#</a></h2><p>A number of promise libraries have an implementation of the useful <code>finally()</code> method. <a href=http://bluebirdjs.com/docs/api/finally.html>Bluebird</a>, <a href=https://github.com/kriskowal/q/wiki/API-Reference#promisefinallycallback>Q</a>, and <a href=https://github.com/cujojs/when/blob/master/docs/api.md#promisefinally>when</a> just to name few. It is now time for a native implementation — <code>Promise.prototype.finally</code> is finally here.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://api.github.com/users/pawelgrzybek&#39;</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>response</span> <span class=p>=&gt;</span> <span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>())</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>data</span>  <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>name</span><span class=p>))</span>
  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=nx>err</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>err</span><span class=p>))</span>
  <span class=p>.</span><span class=k>finally</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;All fetched :-*&#39;</span><span class=p>));</span>
</code></pre></div><ul><li><a href=https://github.com/tc39/proposal-promise-finally>Promise.prototype.finally proposal</a></li></ul><h2 id=template-literal-revision-by-tim-disney>Template Literal Revision by Tim Disney <a href=#template-literal-revision-by-tim-disney class=post__hash>#</a></h2><p>Introduced in ECMAScript 2015, template literals come with some restrictions on escape sequences. This years version of the language solves all of these blockers. Currently valid escape sequences are replaced with a Unicode code point — invalid ones throw an early error. This proposal changes this behaviour by returning <code>undefined</code> for invalid strings and keeping the original one accessible via <code>.raw</code>.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kd>function</span> <span class=nx>tag</span><span class=p>(</span><span class=nx>strs</span><span class=p>)</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>strs</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
  <span class=c1>// undefined
</span><span class=c1></span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>strs</span><span class=p>.</span><span class=nx>raw</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
  <span class=c1>// &#34;\\Some string with invalid excape sequence \\u{55}&#34;
</span><span class=c1></span><span class=p>}</span>
<span class=nx>tag</span><span class=sb>`\Some string with invalid excape sequence \u{55}`</span>
</code></pre></div><ul><li><a href=https://tc39.github.io/proposal-template-literal-revision/>Template Literal Revision proposal</a></li></ul><h2 id=s-dotall-flag-for-regular-expressions-by-mathias-bynens>s (dotAll) flag for regular expressions by Mathias Bynens <a href=#s-dotall-flag-for-regular-expressions-by-mathias-bynens class=post__hash>#</a></h2><p>In regular expression patterns, the dot <code>.</code> matches any character but it is getting a little bit problematic with astral and line terminator characters. The need for matching any character without resorting to cryptic workarounds is very common. Other languages like Java, C#, Pearl or PHP have got an implementation of this functionality. Now it is coming to JavaScript under the <code>s</code> flag.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=sr>/foo.bar/</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=s1>&#39;foo\nbar&#39;</span><span class=p>);</span>
<span class=c1>// false
</span><span class=c1></span>
<span class=err>/foo.bar/s.test(&#39;foo\nbar&#39;);</span>
<span class=c1>// true
</span></code></pre></div><ul><li><a href=https://github.com/tc39/proposal-regexp-dotall-flag>s (dotAll) flag for regular expressions proposal</a></li></ul><h2 id=unicode-property-escapes-in-regular-expressions-by-mathias-bynens>Unicode property escapes in regular expressions by Mathias Bynens <a href=#unicode-property-escapes-in-regular-expressions-by-mathias-bynens class=post__hash>#</a></h2><p>Currently there is no way to access Unicode character properties natively in JavaScript regular expressions. This proposal adds Unicode property escapes via <code>\p{…}</code> and <code>\P{…}</code>.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>const</span> <span class=nx>regexGreekSymbol</span> <span class=o>=</span> <span class=sr>/\p{Script=Greek}/u</span><span class=p>;</span>
<span class=nx>regexGreekSymbol</span><span class=p>.</span><span class=nx>test</span><span class=p>(</span><span class=s1>&#39;π&#39;</span><span class=p>);</span>
<span class=c1>// → true
</span></code></pre></div><ul><li><a href=https://github.com/tc39/proposal-regexp-unicode-property-escapes>Unicode property escapes in regular expressions proposal</a></li></ul><h2 id=regexp-named-capture-groups-by-gorkem-yakin-and-daniel-ehrenberg>RegExp Named Capture Groups by Gorkem Yakin and Daniel Ehrenberg <a href=#regexp-named-capture-groups-by-gorkem-yakin-and-daniel-ehrenberg class=post__hash>#</a></h2><p>Numbered capture groups refer to a part of a string matched by regular expression — it works but it can get a little bit difficult to read and refactor. Named capture groups to the rescue.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>const</span> <span class=nx>re</span> <span class=o>=</span> <span class=sr>/(?&lt;year&gt;\d{4})-(?&lt;month&gt;\d{2})-(?&lt;day&gt;\d{2})/u</span><span class=p>;</span>
<span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>re</span><span class=p>.</span><span class=nx>exec</span><span class=p>(</span><span class=s1>&#39;2019-01-29&#39;</span><span class=p>);</span>
<span class=c1>// result.groups.year === &#39;2019&#39;;
</span><span class=c1>// result.groups.month === &#39;01&#39;;
</span><span class=c1>// result.groups.day === &#39;29&#39;;
</span><span class=c1></span>
<span class=c1>// result[0] === &#39;2019-01-29&#39;;
</span><span class=c1>// result[1] === &#39;2019&#39;;
</span><span class=c1>// result[2] === &#39;01&#39;;
</span><span class=c1>// result[3] === &#39;29&#39;;
</span></code></pre></div><ul><li><a href=https://github.com/tc39/proposal-regexp-named-groups>RegExp Named Capture Groups proposal</a></li></ul><h2 id=regexp-lookbehind-assertions-by-gorkem-yakin-nozomu-katō-and-daniel-ehrenberg>RegExp Lookbehind Assertions by Gorkem Yakin, Nozomu Katō and Daniel Ehrenberg <a href=#regexp-lookbehind-assertions-by-gorkem-yakin-nozomu-kat%c5%8d-and-daniel-ehrenberg class=post__hash>#</a></h2><p>Currently ECMAScript RegExp has lookahead assertions that check a string in a forward direction — it is missing a backward check though. This proposal adds this feature to the language via <code>(?&lt;=…)</code> and returns a result without capturing a checked string.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=s1>&#39;£10.53&#39;</span><span class=p>.</span><span class=nx>match</span><span class=p>(</span><span class=sr>/(?&lt;=\$)\d+(\.\d*)?/</span><span class=p>)</span>
<span class=c1>// null
</span><span class=c1></span>
<span class=s1>&#39;$10.53&#39;</span><span class=p>.</span><span class=nx>match</span><span class=p>(</span><span class=sr>/(?&lt;=\$)\d+(\.\d*)?/</span><span class=p>)</span>
<span class=c1>// [&#34;10.53&#34;, &#34;.53&#34;, index: 1, input: &#34;$10.53&#34;]
</span></code></pre></div><ul><li><a href=https://github.com/tc39/proposal-regexp-lookbehind>RegExp Lookbehind Assertions proposal</a></li></ul><div class=share><svg xmlns="http://www.w3.org/2000/svg" class="share__icon" viewBox="0 0 512 512"><path d="M512 113.2c-18.8 8.4-39.1 14-60.3 16.5 21.7-13 38.3-33.6 46.2-58.1-20.3 12-42.8 20.8-66.7 25.5-19.2-20.4-46.5-33.1-76.7-33.1-58 0-105 47-105 105 0 8.2.9 16.2 2.7 23.9-87.3-4.4-164.7-46.2-216.5-109.8-9 15.5-14.2 33.6-14.2 52.8.0 36.4 18.5 68.6 46.7 87.4-17.2-.5-33.4-5.3-47.6-13.1.0.4.0.9.0 1.3.0 50.9 36.2 93.4 84.3 103-8.8 2.4-18.1 3.7-27.7 3.7-6.8.0-13.3-.7-19.8-1.9 13.4 41.7 52.2 72.1 98.1 73-36 28.2-81.2 45-130.5 45-8.5.0-16.8-.5-25.1-1.5 46.6 29.9 101.8 47.2 161.1 47.2 193.2.0 298.9-160.1 298.9-298.9.0-4.6-.1-9.1-.3-13.6 20.5-14.7 38.3-33.2 52.4-54.3z"/></svg><p class=share__text>If you liked this article, please <a href="https://twitter.com/intent/tweet?text=What%27s%20new%20in%20ECMAScript%202018&url=https%3a%2f%2fpawelgrzybek.com%2fwhats-new-in-ecmascript-2018%2f&via=pawelgrzybek" class=share__link title="Share on Twitter">share it on Twitter</a>.</p></div><h2 id=comments>Comments</h2><ul class=comments><li class=comments__item id=comment-4fc43500><div class=comments__wrapper><div class=comments__author><img src=/assets/comment.svg alt="Piotr z blog.piotrnalepa.pl" class=comments__author__photo><div class=comments__author__data><div class=comments__author__name>Piotr z blog.piotrnalepa.pl</div><div class=comments__author__metadata><time datetime=2018-01-30>2018.01.30, 07:59</time>,
<a class=comments__hash href=#comment-4fc43500>ID: 4fc43500</a></div></div></div><p>I still can't find a practical use case for generators :( I'm looking forward to start using the .finally() method natively in my codebase :)</p><button class="comments__reply js-comments__reply">
Reply to Piotr z blog.piotrnalepa.pl</button><form class="form form--hidden js-form"><input type=hidden name=parent value=4fc43500><div class=form__col><label class=form__label for=name-4fc43500>Name:</label>
<input class="form__input js-form-name" id=name-4fc43500 name=name type=text placeholder="Barack Obama" required></div><div class=form__col><label class=form__label for=website-4fc43500>Website (optional):</label>
<input class="form__input js-form-website" id=website-4fc43500 name=website type=url placeholder=https://barackobama.com></div><div class=form__col><label class=form__label for=twitter-4fc43500>Twitter (optional):</label>
<input class="form__input js-form-twitter" id=twitter-4fc43500 name=twitter type=text placeholder=barackobama></div><div class=form__col><label class=form__label for=github-4fc43500>GitHub (optional):</label>
<input class="form__input js-form-github" id=github-4fc43500 name=github type=text placeholder=barackobama></div><div class=form__col><label class=form__label for=comment-textarea-4fc43500>Comment:</label>
<textarea class="form__input form__input--textarea" id=comment-textarea-4fc43500 name=comment placeholder="I think…" required></textarea><p class=form__tip>👆 you can use Markdown here</p></div><label class=form__row><input class="form__checkbox js-form-save-data" name=save type=checkbox>
<span class="form__label form__label--thin">Save my data for the next time I comment</span></label><div class=form__row><button class=form__button type=submit>Submit comment</button></div></form><div class="moderation moderation--hidden">Your comment is awaiting moderation. Thanks!</div></div><ul class=comments><li class=comments__item id=comment-f8ceea73><div class=comments__wrapper><div class=comments__author><img src=/assets/logo.jpg alt="Pawel Grzybek" class=comments__author__photo><div class=comments__author__data><div class=comments__author__name>Pawel Grzybek</div><div class=comments__author__metadata><time datetime=2018-01-30>2018.01.30, 08:06</time>,
<a class=comments__hash href=#comment-f8ceea73>ID: f8ceea73</a></div></div></div><p>Thanks for visit and comment. You have such a great blog! I added it to my RSS list obviously. Have a great day 🥑</p><button class="comments__reply js-comments__reply">
Reply to Pawel Grzybek</button><form class="form form--hidden js-form"><input type=hidden name=parent value=f8ceea73><div class=form__col><label class=form__label for=name-f8ceea73>Name:</label>
<input class="form__input js-form-name" id=name-f8ceea73 name=name type=text placeholder="Barack Obama" required></div><div class=form__col><label class=form__label for=website-f8ceea73>Website (optional):</label>
<input class="form__input js-form-website" id=website-f8ceea73 name=website type=url placeholder=https://barackobama.com></div><div class=form__col><label class=form__label for=twitter-f8ceea73>Twitter (optional):</label>
<input class="form__input js-form-twitter" id=twitter-f8ceea73 name=twitter type=text placeholder=barackobama></div><div class=form__col><label class=form__label for=github-f8ceea73>GitHub (optional):</label>
<input class="form__input js-form-github" id=github-f8ceea73 name=github type=text placeholder=barackobama></div><div class=form__col><label class=form__label for=comment-textarea-f8ceea73>Comment:</label>
<textarea class="form__input form__input--textarea" id=comment-textarea-f8ceea73 name=comment placeholder="I think…" required></textarea><p class=form__tip>👆 you can use Markdown here</p></div><label class=form__row><input class="form__checkbox js-form-save-data" name=save type=checkbox>
<span class="form__label form__label--thin">Save my data for the next time I comment</span></label><div class=form__row><button class=form__button type=submit>Submit comment</button></div></form><div class="moderation moderation--hidden">Your comment is awaiting moderation. Thanks!</div></div></li></ul></li></ul><h2 id=what-ya-think>What'ya think?</h2><form class="form js-form"><input type=hidden name=parent><div class=form__col><label class=form__label for=name->Name:</label>
<input class="form__input js-form-name" id=name- name=name type=text placeholder="Barack Obama" required></div><div class=form__col><label class=form__label for=website->Website (optional):</label>
<input class="form__input js-form-website" id=website- name=website type=url placeholder=https://barackobama.com></div><div class=form__col><label class=form__label for=twitter->Twitter (optional):</label>
<input class="form__input js-form-twitter" id=twitter- name=twitter type=text placeholder=barackobama></div><div class=form__col><label class=form__label for=github->GitHub (optional):</label>
<input class="form__input js-form-github" id=github- name=github type=text placeholder=barackobama></div><div class=form__col><label class=form__label for=comment-textarea->Comment:</label>
<textarea class="form__input form__input--textarea" id=comment-textarea- name=comment placeholder="I think…" required></textarea><p class=form__tip>👆 you can use Markdown here</p></div><label class=form__row><input class="form__checkbox js-form-save-data" name=save type=checkbox>
<span class="form__label form__label--thin">Save my data for the next time I comment</span></label><div class=form__row><button class=form__button type=submit>Submit comment</button></div></form><div class="moderation moderation--hidden">Your comment is awaiting moderation. Thanks!</div></article><script src=/comments.js></script></main><footer class=footer>Copyright © 2021 Pawel Grzybek</footer></div></body></html>