<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width"><meta name=author content="Pawel Grzybek - https://pawelgrzybek.com"><meta name=generator content="Hugo 0.80.0"><title>Make some magic with CSS blend modes | pawelgrzybek.com</title><meta name=description content="Remember the bloody wars between web designers and front-end developers about blend modes? Those times are over — thanks to the power of CSS!"><meta property="og:site_name" content="pawelgrzybek.com"><meta property="og:title" content="Make some magic with CSS blend modes | pawelgrzybek.com"><meta property="og:url" content="https://pawelgrzybek.com/make-some-magic-with-css-blend-modes/"><meta property="og:type" content="article"><meta property="og:description" content="Remember the bloody wars between web designers and front-end developers about blend modes? Those times are over — thanks to the power of CSS!"><meta property="og:image" content="https://pawelgrzybek.com/photos/2017-04-28.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@pawelgrzybek"><meta name=twitter:creator content="@pawelgrzybek"><link rel=canonical href=https://pawelgrzybek.com/make-some-magic-with-css-blend-modes/><link rel=alternate type=application/rss+xml title=pawelgrzybek.com href=https://pawelgrzybek.com/feed.xml><link rel=alternate type=application/feed+json title=pawelgrzybek.com href=https://pawelgrzybek.com/feed.json><link rel=apple-touch-icon sizes=180x180 href=/assets/apple-touch-icon-180x180.png><link rel=icon type=image/png href=/assets/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/assets/favicon-16x16.png sizes=16x16><link rel=manifest href=/assets/manifest.json><link rel="shortcut icon" href=/assets/favicon.ico><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/assets/mstile-144x144.png"><meta name=theme-color content="#ffffff"><style>:root{--fz: 1rem;--fzb: 106.25%;--lh: 1.764705882rem;--type-scale: 1.25;--color-text: #24292e;--color-background: #fff;--color-link: #005cc5;--color-update-background: #fbebea;--color-update-border: #edb0ab;--color-box-background: #f7f7f7;--color-box-border: #eee;--color-box-border-dark: #ddd;--color-syntax-k: #006699;--color-syntax-s: #cc3300;--color-syntax-m: #ff6600;--color-syntax-c: #999;--color-syntax-nb: #366;--color-syntax-o: #555555;--color-syntax-na: #330099;--color-syntax-nv: #003333}@media screen and (min-width:764px){:root{--fzb: 112.5%;--lh: 1.77778rem}}@media(prefers-color-scheme:dark){:root{--color-text: #fafbfc;--color-background: #24292e;--color-link: #9ecbff;--color-update-background: #6d3733;--color-update-border: #522926;--color-box-background: hsl(210, 12%, 12%);--color-box-border: hsl(210, 12%, 20%);--color-box-border-dark: hsl(210, 12%, 30%);--color-syntax-k: #9ecbff;--color-syntax-s: #f97583;--color-syntax-m: #ffab70;--color-syntax-c: #6a737d;--color-syntax-nb: #28a745;--color-syntax-o: #959da5;--color-syntax-na: #fafbfc;--color-syntax-nv: #00b1b1}}::selection{background:var(--color-link);color:#fff;text-shadow:none}html{font-size:var(--fzb);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased;-webkit-text-size-adjust:100%;box-sizing:border-box;scroll-behavior:smooth}*,*::before,*::after{margin:0;padding:0;box-sizing:inherit}body{background-color:var(--color-background);color:var(--color-text);font-family:-apple-system,BlinkMacSystemFont,segoe ui,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol;font-size:var(--fz);line-height:var(--lh)}img{display:block;max-width:100%;height:auto;border:0}a{background:0 0;color:var(--color-link);word-wrap:break-word}a:hover,a:focus,a:active{color:var(--color-text)}p,h1,h2,h3,h4,h5,h6{margin-bottom:var(--lh)}h1,h2,h3,h4,h5,h6{margin-top:calc(var(--lh) * 1.5);font-weight:700;text-decoration:none}h1{font-size:calc( var(--fz) * var(--type-scale) * var(--type-scale) * var(--type-scale));line-height:calc(var(--lh) * 1.5)}h2{font-size:calc(var(--fz) * var(--type-scale) * var(--type-scale))}h3{font-size:calc(var(--fz) * var(--type-scale))}h4{font-size:1rem}h5{font-size:calc(var(--fz)/var(--type-scale))}h6{font-size:calc(var(--fz)/var(--type-scale)/var(--type-scale))}ul,ol{margin:0 0 var(--lh)var(--lh)}li ul,li ol{margin:0 0 0 var(--lh)}hr{display:block;height:var(--lh);border:0;box-shadow:0 1px 0 #eee}blockquote{margin-bottom:var(--lh);padding:var(--lh);background:var(--color-box-background);box-shadow:inset 0 0 0 1px var(--color-box-border)}blockquote p{margin:0;font-style:italic}figure{margin-bottom:var(--lh)}figcaption{font-size:var(--fz)/var(--type-scale)/var(--type-scale)}.wrapper{width:100%;max-width:calc(700px + (2 * var(--lh)));margin:0 auto;padding:0 var(--lh)}.wrapper--wide{max-width:calc(900px + (2 * var(--lh)))}.header{position:relative;padding:calc(var(--lh) * 2) 0;display:flex;flex-direction:column}.header__skip{position:absolute;top:0;left:0;padding:0 calc(var(--lh)/2);font-size:calc(var(--fz)/var(--type-scale));transform:scale(0)}.header__skip:focus{transform:scale(1)}.header__logo{display:flex;align-items:center;justify-content:center;margin:0;font-size:calc(var(--fz));line-height:var(--lh)}.header__logo a{display:flex;flex-direction:column;align-items:center;font-weight:700;margin:0 0 calc(var(--lh)/2)}.header__logo a::before{content:"";width:calc(var(--lh) * 2);height:calc(var(--lh) * 2);margin:0 0 calc(var(--lh)/2);background-image:url(/assets/logo.jpg);background-size:100% 100%;border-radius:var(--lh)}.header__list{height:100%;display:flex;align-items:center;justify-content:center;list-style:none;margin:0}.header__item{margin-right:calc(var(--lh)/2)}.header__item:last-of-type{margin-right:0}@media screen and (min-width:764px){.header{flex-direction:row;justify-content:space-between;padding:calc(var(--lh) * 3) 0}.header__logo a{flex-direction:row;margin:0}.header__logo a::before{content:"";width:calc(var(--lh) * 2);height:calc(var(--lh) * 2);margin:0 calc(var(--lh)/2) 0 0;background-image:url(/assets/logo.jpg);background-size:100% 100%;border-radius:var(--lh)}}@media screen and (min-width:964px){.header__logo::after{font-weight:400;white-space:pre;color:var(--color-text);content:" | Software Engineer at Mindera"}}.post{margin-bottom:calc(var(--lh) * 3)}.post__title{margin-top:0}.post__url{color:var(--color-text);text-decoration:none}.post__url:hover{color:var(--color-link)}.post__meta{margin-top:calc(var(--lh) * -1);font-size:calc(var(--fz)/var(--type-scale))}.post__more{text-decoration:none;vertical-align:top}.post__hash{text-decoration:none;margin-left:calc(var(--lh)/4);color:var(--color-text);opacity:.25}.post__hash:hover{color:var(--color-link);opacity:1}.footer{color:var(--color-text);font-size:calc(var(--fz)/var(--type-scale)/var(--type-scale));font-weight:700;text-decoration:none;vertical-align:top;padding:calc(var(--lh) * 2) 0}.pager{display:flex}.pager__btn{flex-grow:1;font-size:calc(var(--fz)/var(--type-scale));font-weight:700;text-decoration:none;vertical-align:top}.pager__btn--prev{text-align:left}.pager__btn--next{text-align:right}.share{display:flex;align-items:center;background-color:var(--color-box-background);box-shadow:0 0 0 1px var(--color-box-border);margin:calc(var(--lh) * 2) 0;padding:calc(var(--lh)/2);font-size:calc(var(--fz)/var(--type-scale))}.share__icon{fill:#1da1f2;margin-right:calc(var(--lh)/2);width:var(--fz);height:var(--fz);flex-shrink:0}.share__text{margin:0}.archive{margin-left:0;list-style:none}.archive__item{padding:calc(var(--lh)/2) 0;box-shadow:0 1px 0 0 var(--color-box-border)}.archive__link{font-weight:700;text-decoration:none;color:var(--color-text)}.archive__link:hover{color:var(--color-link)}.archive__date{margin:0;font-size:calc(var(--fz)/var(--type-scale))}code,pre{border-radius:3px;background-color:var(--color-box-background);font-family:SFMono-Regular,Consolas,liberation mono,Menlo,Courier,monospace;font-size:.888889rem;vertical-align:top}pre{margin-bottom:var(--lh);padding:var(--lh);box-shadow:0 0 0 1px var(--color-box-border);overflow-x:auto}p>code,li>code{padding:4px 6px;box-shadow:0 0 0 1px var(--color-box-border)}kbd{border-radius:3px;background-color:var(--color-box-background);font-family:SFMono-Regular,Consolas,liberation mono,Menlo,Courier,monospace;font-size:.888889rem;vertical-align:top;padding:4px 6px;box-shadow:0 0 0 1px var(--color-box-border)}.chroma{background-color:var(--color-box-background)}.chroma .err{background-color:#faa;color:#a00}.chroma .lntd{margin:0;padding:0;border:0;vertical-align:top}.chroma .lntable{display:block;width:auto;margin:0;padding:0;border:0;border-spacing:0;overflow:auto}.chroma .hl{display:block;width:100%;background-color:var(--color-box-border)}.chroma .lnt{display:block;margin-right:.4em;padding:0 .4em;opacity:.5}.chroma .ln{margin-right:.4em;padding:0 .4em}.chroma .k{color:var(--color-syntax-k);font-weight:700}.chroma .kc{color:var(--color-syntax-k);font-weight:700}.chroma .kd{color:var(--color-syntax-k);font-weight:700}.chroma .kn{color:var(--color-syntax-k);font-weight:700}.chroma .kp{color:var(--color-syntax-k)}.chroma .kr{color:var(--color-syntax-k);font-weight:700}.chroma .kt{color:#078;font-weight:700}.chroma .na{color:var(--color-syntax-na)}.chroma .nb{color:var(--color-syntax-nb)}.chroma .nc{color:#0a8;font-weight:700}.chroma .no{color:#360}.chroma .nd{color:#99f}.chroma .ni{color:#999;font-weight:700}.chroma .ne{color:#c00;font-weight:700}.chroma .nf{color:#c0f}.chroma .nl{color:#99f}.chroma .nn{color:#0cf;font-weight:700}.chroma .nt{color:var(--color-syntax-na);font-weight:700}.chroma .nv{color:var(--color-syntax-nv)}.chroma .s{color:var(--color-syntax-s)}.chroma .sa{color:var(--color-syntax-s)}.chroma .sb{color:var(--color-syntax-s)}.chroma .sc{color:var(--color-syntax-s)}.chroma .dl{color:var(--color-syntax-s)}.chroma .sd{color:var(--color-syntax-s);font-style:italic}.chroma .s2{color:var(--color-syntax-s)}.chroma .se{color:var(--color-syntax-s);font-weight:700}.chroma .sh{color:var(--color-syntax-s)}.chroma .si{color:#a00}.chroma .sx{color:var(--color-syntax-s)}.chroma .sr{color:#3aa}.chroma .s1{color:var(--color-syntax-s)}.chroma .ss{color:#fc3}.chroma .m{color:var(--color-syntax-m)}.chroma .mb{color:var(--color-syntax-m)}.chroma .mf{color:var(--color-syntax-m)}.chroma .mh{color:var(--color-syntax-m)}.chroma .mi{color:var(--color-syntax-m)}.chroma .il{color:var(--color-syntax-m)}.chroma .mo{color:var(--color-syntax-m)}.chroma .o{color:var(--color-syntax-o)}.chroma .ow{color:#000;font-weight:700}.chroma .c{color:#999;font-style:italic}.chroma .ch{color:#999;font-style:italic}.chroma .cm{color:#999;font-style:italic}.chroma .c1{color:#999;font-style:italic}.chroma .cs{color:#999;font-style:italic;font-weight:700}.chroma .cp{color:#099}.chroma .cpf{color:#099}.chroma .gd{background-color:#fcc}.chroma .ge{font-style:italic}.chroma .gr{color:red}.chroma .gh{color:#030;font-weight:700}.chroma .gi{background-color:#cfc}.chroma .go{color:#aaa}.chroma .gp{color:#009;font-weight:700}.chroma .gs{font-weight:700}.chroma .gu{color:#030;font-weight:700}.chroma .gt{color:#9c6}.chroma .w{color:#bbb}.update{position:relative;padding:var(--lh);background-color:var(--color-update-background);box-shadow:0 0 0 1px var(--color-update-border)}.update::before{position:absolute;top:calc(var(--lh)/-2);left:calc(var(--lh)/2);height:var(--lh);padding:0 calc(var(--lh)/2);background-color:var(--color-update-border);color:#fff;font-size:calc(var(--fz)/var(--type-scale));font-weight:700;content:"Update"}.comments{list-style:none;margin-left:0}.comments__item{scroll-margin-top:var(--lh)}.comments__item .comments{box-shadow:inset 1px 0 0 var(--color-box-border-dark);padding-left:var(--lh)}.comments__item .comments .comments__author::before{position:absolute;top:50%;left:calc(var(--lh) * -1);width:calc(var(--lh)/4);height:calc(var(--lh)/4);background:var(--color-box-border-dark);transform:translate(-50%,-50%);border-radius:50%;content:""}.comments__wrapper{margin-bottom:var(--lh);word-wrap:break-word}.comments__author{display:flex;margin-bottom:var(--lh);position:relative}.comments__socials{display:none}@media screen and (min-width:764px){.comments__socials{display:block;position:absolute;top:0;right:0;display:flex}.comments__link{display:block;width:var(--lh);height:var(--lh);background:var(--color-box-background);margin-left:calc(var(--lh)/4);display:flex;justify-content:center;align-items:center;fill:var(--color-text)}.comments__link__icon{width:16px;height:16px;opacity:.5}}.comments__author__photo{width:calc(var(--lh) * 1.5);height:calc(var(--lh) * 1.5);margin-right:calc(var(--lh)/2);line-height:calc(var(--lh) * 1.5);text-align:center;font-weight:700;color:#fff;font-size:14px;text-transform:uppercase}.comments__author__data{flex-grow:1;min-width:1px}.comments__author__name{font-weight:700;line-height:calc(var(--lh) * 0.75);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.comments__author__metadata{font-size:calc(var(--fz)/var(--type-scale)/var(--type-scale));line-height:calc(var(--lh) * 0.75);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.comments__hash{color:inherit;text-decoration:none}.comments__reply{margin-bottom:calc(var(--lh)/2);background:0 0;display:block;height:var(--lh);border:0;color:var(--color-link);font:inherit;font-size:calc(var(--fz)/var(--type-scale)/var(--type-scale));cursor:pointer;background:var(--color-box-background);color:var(--color-text);padding:0 calc(var(--lh)/2)}.form{display:flex;flex-wrap:wrap;position:relative}.form__loader__wrapper{position:absolute;width:calc(100% + var(--lh));height:calc(100% + var(--lh));top:calc(var(--lh)/-2);left:calc(var(--lh)/-2);background:var(--color-background);display:flex;justify-content:center;align-items:center}.form__loader__wrapper--hidden{display:none}.form__loader{width:calc(var(--lh) * 1.5);height:calc(var(--lh) * 1.5);position:relative}.form__loader:before,.form__loader:after{content:"";position:absolute;width:100%;height:100%;border-radius:100%;border:3px solid transparent;border-top-color:var(--color-link)}.form__loader:after{animation:spin 1s infinite}.form__loader:before{border:3px solid var(--color-box-border)}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.form--hidden{display:none}.form__col{display:flex;flex-direction:column;flex-grow:1;width:100%;margin-bottom:calc(var(--lh)/2)}@media screen and (min-width:764px){.form__col:nth-of-type(2),.form__col:nth-of-type(3),.form__col:nth-of-type(4){width:100px;margin-right:calc(var(--lh)/2)}.form__col:nth-of-type(4){margin-right:0}}.form__row{display:flex;width:100%;flex-direction:row;align-items:center;min-width:1px;margin-bottom:calc(var(--lh)/2)}.form__row:last-child{margin-bottom:0}.form__label{font-weight:600;font-size:calc(var(--fz)/var(--type-scale))}.form__label--thin{font-weight:400;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.form__input{-webkit-appearance:none;border-radius:0;border:1px solid var(--color-box-border-dark);background-color:var(--color-background);height:calc(var(--lh) * 1.5);padding:0 calc(var(--lh)/2);color:var(--color-text);font:inherit}.form__input--textarea{padding:calc(var(--lh)/4) calc(var(--lh)/2);min-height:calc(var(--lh) * 4);resize:vertical}.form__tip{font-size:calc(var(--fz)/var(--type-scale)/var(--type-scale));margin-bottom:0;text-align:right}.form__checkboxlabel{font-size:calc(var(--fz)/var(--type-scale));white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:flex;align-items:center;margin-bottom:calc(var(--lh)/2);min-width:1px}.form__checkbox{margin-right:calc(var(--lh)/4);cursor:pointer}.form__confirmation{width:100%;background-color:var(--color-box-background);box-shadow:0 0 0 1px var(--color-box-border);padding:var(--lh);margin-bottom:calc(var(--lh)/2)}.form__confirmation--hidden{display:none}.form__button{background:var(--color-link);color:var(--color-background);border:0;font:inherit;padding:calc(var(--lh)/4) var(--lh);cursor:pointer;font-size:calc(var(--fz)/var(--type-scale));font-weight:600}</style></head><body><div class="wrapper wrapper--wide"><header class=header><a class=header__skip href=#main>Skip to content</a><div class=header__logo><a href=/>pawelgrzybek.com</a></div><nav><ul class=header__list><li class=header__item><a href=/about title=About>About</a></li><li class=header__item><a href=/archive title=Archive>Archive</a></li><li class=header__item><a href=/feed.xml title="RSS Feed">RSS</a></li><li class=header__item><a href=https://twitter.com/pawelgrzybek title="Pawel Grzybek on Twitter">Twitter</a></li><li class=header__item><a href=https://github.com/pawelgrzybek title="Pawel Grzybek on Github">Github</a></li></ul></nav></header></div><div class=wrapper><main id=main><article class="post js-post"><h1 class=post__title>Make some magic with CSS blend modes</h1><p class=post__meta>Published: <time datetime=2017-04-28>2017.04.28</time> | 6 minutes read</p><p>It was an ordinary Wednesday morning, I was enjoying my morning espresso shot at <a href=https://twitter.com/enginecreative>Engine Creative</a>, when suddenly my lovely colleague Chloe put on my desk the latest issue of <a href=https://twitter.com/netmag>net magazine</a> freshly delivered by the postman. I had a quick glance at the cover art that boldly stated &ldquo;Make magic with CSS&rdquo;. Pfff — I totally ignored it — I know everything about CSS, don&rsquo;t I? It was a really nice espresso.</p><p>It is an ordinary Sunday morning, I&rsquo;m enjoying my morning espresso shot on my sofa — time for some press. After reading the first three paragraphs of &ldquo;Make magic with CSS&rdquo; by <a href=https://twitter.com/aganaplocha>Aga Naplocha</a> I&rsquo;ve realised that I had really fallen behind on my CSS skills. It is a really nice espresso but I&rsquo;m going to brew more because today is the day to catch up on some CSS magic — blend modes.</p><h2 id=blend-modes-essentials>Blend modes essentials <a href=#blend-modes-essentials class=post__hash>#</a></h2><p>If you have ever used any image editing software like Adobe Photoshop, Affinity Photo or Sketch App you probably have some experience with blend modes. Yes — it is one of those features that designers love as it&rsquo;s essentially a shortcut method for doing beautiful things but front-end developers hate them because they are laborious to implement. A-ha! Not anymore! I will show you how in a second but first let&rsquo;s brush up on some theory courtesy of <a href=https://en.wikipedia.org/wiki/Blend_modes>Wikipedia</a>.</p><blockquote><p>Blend modes in digital image editing are used to determine how two layers are blended into each other. However, as each pixel has a numerical representation, a large number of ways to blend two layers is possible.</p></blockquote><p><picture>
<source srcset=/photos/2017-04-28-1.avif type=image/avif><source srcset=/photos/2017-04-28-1.webp type=image/webp><img src=/photos/2017-04-28-1.jpg alt="Blend modes in Adobe Photoshop, Sketch App and Affinity Photo" loading=lazy decoding=async width=1600 height=906></picture></p><p>For lots of designers and developers working with blend modes is a very experimental process. Memorizing all the mathematical calculations isn&rsquo;t required to use them effectively. It doesn&rsquo;t take much time to juggle with some options in Photoshop but it can be very time consuming when the same needs to be done in CSS or JavaScript. A little bit of understanding helps and I will do my best to help you with that.</p><h3 id=blend-modes-by-group>Blend modes by group <a href=#blend-modes-by-group class=post__hash>#</a></h3><p>Photoshop and Sketch separate blending options into a few meaningful groups. Unfortunately Affinity Photo presents its options in a non-grouped manner (this would be worth adding in a future version). I&rsquo;m not going to describe the algorithm behind each of them as there are plenty of <a href=https://photoshoptrainingchannel.com/blending-modes-explained/>detailed explanations</a> out there — a brief summary of each group is enough to grasp the concept.</p><p><picture>
<source srcset=/photos/2017-04-28-2.avif type=image/avif><source srcset=/photos/2017-04-28-2.webp type=image/webp><img src=/photos/2017-04-28-2.jpg alt="Grouped blend modes in Sketch App" loading=lazy decoding=async width=1600 height=806></picture></p><h4 id=normal>Normal <a href=#normal class=post__hash>#</a></h4><p>No mathematical algorithm is applied. If you are wondering why the very random looking &ldquo;Dissolve&rdquo; mode belongs to this group, you&rsquo;ve just answered your own question — <a href=https://en.wikipedia.org/wiki/Blend_modes#Dissolve>random</a>. The example below shows the &ldquo;Normal&rdquo; blend mode.</p><p><picture>
<source srcset=/photos/2017-04-28-3.avif type=image/avif><source srcset=/photos/2017-04-28-3.webp type=image/webp><img src=/photos/2017-04-28-3.jpg alt="Blend mode - Normal group" loading=lazy decoding=async width=1600 height=800></picture></p><h4 id=darken>Darken <a href=#darken class=post__hash>#</a></h4><p>As the name suggests — the result will be darker than the initial look of the blended layer. The base colour is pure white. Every pixel darker than white results in a darkened output of blended pixels. Using this mode with pure white layers won&rsquo;t generate any effect. Darken generates inverted effects to modes from the &ldquo;Lighten&rdquo; category. The example below shows the &ldquo;Darken&rdquo; blend mode.</p><p><picture>
<source srcset=/photos/2017-04-28-4.avif type=image/avif><source srcset=/photos/2017-04-28-4.webp type=image/webp><img src=/photos/2017-04-28-4.jpg alt="Blend mode - Darken group" loading=lazy decoding=async width=1600 height=800></picture></p><h4 id=lighten>Lighten <a href=#lighten class=post__hash>#</a></h4><p>As the name suggests — the result will be lighter than the initial look of the blended layer. The base colour is a pure black. Every pixel brighter than black results in a lightened output of blended pixels. Using this mode with pure black layers won&rsquo;t generate any effect. Lighten generates inverted effects to modes from the &ldquo;Darken&rdquo; category. The example below shows the &ldquo;Lighten&rdquo; blend mode.</p><p><picture>
<source srcset=/photos/2017-04-28-5.avif type=image/avif><source srcset=/photos/2017-04-28-5.webp type=image/webp><img src=/photos/2017-04-28-5.jpg alt="Blend mode - Lighten group" loading=lazy decoding=async width=1600 height=800></picture></p><h4 id=contrast>Contrast <a href=#contrast class=post__hash>#</a></h4><p>Darken blend modes use pure white as the neutral point. Lighten ones use pure black. The Contrast group uses 50% gray as the base colour to recalculate the blended result. The purpose of this category is to manipulate the contrast of an image. The example below shows the &ldquo;Hard Light&rdquo; blend mode.</p><p><picture>
<source srcset=/photos/2017-04-28-6.avif type=image/avif><source srcset=/photos/2017-04-28-6.webp type=image/webp><img src=/photos/2017-04-28-6.jpg alt="Blend mode - Contrast group" loading=lazy decoding=async width=1600 height=800></picture></p><h4 id=inversion>Inversion <a href=#inversion class=post__hash>#</a></h4><p>This set of blend modes calculate the difference or colour inversion between two layers. This produces results where colours are cancelled or inverted in the colour wheel. The example below shows the &ldquo;Difference&rdquo; blend mode.</p><p><picture>
<source srcset=/photos/2017-04-28-7.avif type=image/avif><source srcset=/photos/2017-04-28-7.webp type=image/webp><img src=/photos/2017-04-28-7.jpg alt="Blend mode - Inversion group" loading=lazy decoding=async width=1600 height=800></picture></p><h4 id=component>Component <a href=#component class=post__hash>#</a></h4><p>The Component group allows us to blend primary colour components: hue, saturation and brightness. The example below shows the &ldquo;Hue&rdquo; blend mode.</p><p><picture>
<source srcset=/photos/2017-04-28-8.avif type=image/avif><source srcset=/photos/2017-04-28-8.webp type=image/webp><img src=/photos/2017-04-28-8.jpg alt="Blend mode - Component group" loading=lazy decoding=async width=1600 height=800></picture></p><h3 id=software-vs-web-reality>Software vs. web reality <a href=#software-vs-web-reality class=post__hash>#</a></h3><p>Web design software is much more generous with the available options than the web platform is. Adobe Photoshop gives us access to 27 blend modes, Sketch gives us 16 options and Affinity Photo offers a crazy 30 variations.</p><p>According to the recent <a href=https://drafts.fxtf.org/compositing-1/>Compositing and Blending Level Spec</a>, CSS comes with 16 values that we can use in our projects. These are exactly the same values as are available in Sketch.</p><h2 id=working-with-css-blend-modes>Working with CSS blend modes <a href=#working-with-css-blend-modes class=post__hash>#</a></h2><p>Enough theory — time for some practice. As mentioned a second ago, CSS allows us to use the following values:</p><ul><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-normal><code>normal</code></a> (initial value)</li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-multiply><code>multiply</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-screen><code>screen</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-overlay><code>overlay</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-darken><code>darken</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-lighten><code>lighten</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-color-dodge><code>color-dodge</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-color-burn><code>color-burn</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-hard-light><code>hard-light</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-soft-light><code>soft-light</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-difference><code>difference</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-exclusion><code>exclusion</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-hue><code>hue</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-saturation><code>saturation</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-color><code>color</code></a></li><li><a href=https://www.w3.org/TR/compositing-1/#valdef-blend-mode-luminosity><code>luminosity</code></a></li></ul><p>There are two CSS properties out there that allow us to work with blend modes: <a href=https://www.w3.org/TR/compositing-1/#propdef-background-blend-mode><code>background-blend-mode</code></a> and <a href=https://www.w3.org/TR/compositing-1/#mix-blend-mode><code>mix-blend-mode</code></a>. The effect that those properties produce is identical but the use case for them is different. Let&rsquo;s have a quick look at both of them.</p><h3 id=background-blend-mode>background-blend-mode <a href=#background-blend-mode class=post__hash>#</a></h3><p>As it says on the tin <code>background-blend-mode</code> applies a blend mode to <code>background-color</code> or <code>background-image</code>. It can take multiple values when we use more than one background. Using it with gradients can produce really impressive results — but I will leave the creativity to you. Let&rsquo;s have a look at a simple example.</p><div class=highlight><pre class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>box</span> <span class=p>{</span>
  <span class=k>background-color</span><span class=p>:</span> <span class=mh>#D3545B</span><span class=p>;</span>
  <span class=k>background-image</span><span class=p>:</span> <span class=nb>url</span><span class=p>(</span><span class=s1>&#39;image.jpg&#39;</span><span class=p>);</span>
  <span class=k>background-blend-mode</span><span class=p>:</span> <span class=kc>multiply</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p><p data-height=572 data-theme-id=14885 data-slug-hash=oWYgwd data-default-tab=result data-user=pawelgrzybek data-embed-version=2 data-pen-title=2017-04-28-1 class=codepen>See the Pen <a href=https://codepen.io/pawelgrzybek/pen/oWYgwd/>2017-04-28-1</a> by Pawel Grzybek (<a href=https://codepen.io/pawelgrzybek>@pawelgrzybek</a>) on <a href=http://codepen.io>CodePen</a>.</p><script async src=https://production-assets.codepen.io/assets/embed/ei.js></script></p><h3 id=mix-blend-mode>mix-blend-mode <a href=#mix-blend-mode class=post__hash>#</a></h3><p>It would be a bit restrictive to use blend modes with backgrounds only. That&rsquo;s the reason why <code>mix-blend-mode</code> exists. It allows us to blend any element with its backdrop.</p><div class=highlight><pre class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>page</span> <span class=p>{</span>
  <span class=k>background-image</span><span class=p>:</span> <span class=nb>url</span><span class=p>(</span><span class=s1>&#39;image.jpg&#39;</span><span class=p>);</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>box</span> <span class=p>{</span>
  <span class=k>background-image</span><span class=p>:</span> <span class=nb>repeating-linear-gradient</span><span class=p>(</span>
    <span class=mi>45</span><span class=kt>deg</span><span class=p>,</span>
    <span class=mh>#D3545B</span><span class=p>,</span>
    <span class=mh>#D3545B</span> <span class=mi>2</span><span class=kt>rem</span><span class=p>,</span>
    <span class=kc>transparent</span> <span class=mi>2</span><span class=kt>rem</span><span class=p>,</span>
    <span class=kc>transparent</span> <span class=mi>3</span><span class=kt>rem</span>
  <span class=p>);</span>
  <span class=k>mix-blend-mode</span><span class=p>:</span> <span class=kc>darken</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p><p data-height=572 data-theme-id=14885 data-slug-hash=bWBNzV data-default-tab=result data-user=pawelgrzybek data-embed-version=2 data-pen-title=2017-04-28-2 class=codepen>See the Pen <a href=https://codepen.io/pawelgrzybek/pen/bWBNzV/>2017-04-28-2</a> by Pawel Grzybek (<a href=https://codepen.io/pawelgrzybek>@pawelgrzybek</a>) on <a href=http://codepen.io>CodePen</a>.</p><script async src=https://production-assets.codepen.io/assets/embed/ei.js></script></p><p>A word of advice! There is a bug in Chrome. Blending with the <code>body</code> element is broken in Google&rsquo;s browser — it works like a charm in other ones though.</p><h3 id=but-internet-explorer-edge-and-safari>But Internet Explorer, Edge and Safari&mldr; <a href=#but-internet-explorer-edge-and-safari class=post__hash>#</a></h3><p>Let&rsquo;s be honest — the browser support isn&rsquo;t fantastic. Internet Explorer and Edge don&rsquo;t support it at all. Desktop and mobile Safari has a real issue with all non-separable blend modes: <code>hue</code>, <code>saturation</code>, <code>color</code>, <code>luminosity</code>.</p><p><picture>
<source srcset=/photos/2017-04-28-9.avif type=image/avif><source srcset=/photos/2017-04-28-9.webp type=image/webp><img src=/photos/2017-04-28-9.jpg alt="Blend modes support in the browsers" loading=lazy decoding=async width=1600 height=393></picture></p><p>Let me introduce a new term now — &ldquo;no blend modes first&rdquo;. Your project on an old-school browser shouldn&rsquo;t be any less functional as the one on the latest version of Google Chrome. Take the support for a crazy feature as an opportunity, not as something that should dictate your design decisions. But if you really, really must…</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=nb>window</span><span class=p>.</span><span class=nx>getComputedStyle</span><span class=p>(</span><span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>).</span><span class=nx>mixBlendMode</span><span class=p>)</span> <span class=p>{</span>
  <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>className</span> <span class=o>+=</span> <span class=s1>&#39; no-mix-blend-mode&#39;</span><span class=p>;</span>
<span class=p>}</span>

<span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=nb>window</span><span class=p>.</span><span class=nx>getComputedStyle</span><span class=p>(</span><span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>).</span><span class=nx>backgroundBlendMode</span><span class=p>)</span> <span class=p>{</span>
  <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>className</span> <span class=o>+=</span> <span class=s1>&#39; no-background-blend-mode&#39;</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>box</span> <span class=p>{</span>
  <span class=k>background-color</span><span class=p>:</span> <span class=mh>#D3545B</span><span class=p>;</span>
  <span class=k>background-image</span><span class=p>:</span> <span class=nb>url</span><span class=p>(</span><span class=s1>&#39;image.jpg&#39;</span><span class=p>);</span>
  <span class=k>background-blend-mode</span><span class=p>:</span> <span class=kc>hard-light</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>no-background-blend-mode</span> <span class=p>.</span><span class=nc>box</span> <span class=p>{</span>
  <span class=k>background-image</span><span class=p>:</span> <span class=nb>url</span><span class=p>(</span><span class=s1>&#39;some-fallback-image.jpg&#39;</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><p>And here is the result on the latest version of Google Chrome and IE 9.</p><p><picture>
<source srcset=/photos/2017-04-28-10.avif type=image/avif><source srcset=/photos/2017-04-28-10.webp type=image/webp><img src=/photos/2017-04-28-10.jpg alt="Cross browser Internet Explorer 9 CSS blend mode" loading=lazy decoding=async width=1600 height=1150></picture></p><p><p data-height=472 data-theme-id=14885 data-slug-hash=GmNmJK data-default-tab=result data-user=pawelgrzybek data-embed-version=2 data-pen-title=2017-04-28-3 class=codepen>See the Pen <a href=https://codepen.io/pawelgrzybek/pen/GmNmJK/>2017-04-28-3</a> by Pawel Grzybek (<a href=https://codepen.io/pawelgrzybek>@pawelgrzybek</a>) on <a href=http://codepen.io>CodePen</a>.</p><script async src=https://production-assets.codepen.io/assets/embed/ei.js></script></p><h2 id=i-missed-you-css>I missed you CSS <a href=#i-missed-you-css class=post__hash>#</a></h2><p><a href=https://twitter.com/aganaplocha>Aga</a>, thanks for giving me the inspiration to write this article. I promise to catch up on some of the latest CSS magic — actually I really miss it.</p><p>Hopefully this article helped you out guys. For me, writing it was a really enjoyable path to learning it. I officially announce that I&rsquo;m starting to use CSS blend modes in production today. Until next time CSS magicians!</p><div class=share><svg xmlns="http://www.w3.org/2000/svg" class="share__icon" viewBox="0 0 512 512"><path d="M512 113.2c-18.8 8.4-39.1 14-60.3 16.5 21.7-13 38.3-33.6 46.2-58.1-20.3 12-42.8 20.8-66.7 25.5-19.2-20.4-46.5-33.1-76.7-33.1-58 0-105 47-105 105 0 8.2.9 16.2 2.7 23.9-87.3-4.4-164.7-46.2-216.5-109.8-9 15.5-14.2 33.6-14.2 52.8.0 36.4 18.5 68.6 46.7 87.4-17.2-.5-33.4-5.3-47.6-13.1.0.4.0.9.0 1.3.0 50.9 36.2 93.4 84.3 103-8.8 2.4-18.1 3.7-27.7 3.7-6.8.0-13.3-.7-19.8-1.9 13.4 41.7 52.2 72.1 98.1 73-36 28.2-81.2 45-130.5 45-8.5.0-16.8-.5-25.1-1.5 46.6 29.9 101.8 47.2 161.1 47.2 193.2.0 298.9-160.1 298.9-298.9.0-4.6-.1-9.1-.3-13.6 20.5-14.7 38.3-33.2 52.4-54.3z"/></svg><p class=share__text>If you liked this article, please <a href="https://twitter.com/intent/tweet?text=Make%20some%20magic%20with%20CSS%20blend%20modes&url=https%3a%2f%2fpawelgrzybek.com%2fmake-some-magic-with-css-blend-modes%2f&via=pawelgrzybek" class=share__link title="Share on Twitter">share it on Twitter</a>.</p></div><h2 id=comments>Comments</h2><ul class=comments><li class=comments__item id=comment-fa93cad3><div class=comments__wrapper><div class=comments__author><div class=comments__author__photo style=background-color:#854774>A</div><div class=comments__author__data><div class=comments__author__name>Allen Yuan</div><div class=comments__author__metadata><time datetime=2017-08-27>2017.08.27, 04:07</time>,
<a class=comments__hash href=#comment-fa93cad3>#fa93cad3</a></div></div><div class=comments__socials></div></div><p>Nice tutorial</p><button class="comments__reply js-comments__reply">
Reply to Allen Yuan</button><form class="form form--hidden js-form"><input type=hidden name=parent value=fa93cad3><div class=form__col><label class=form__label for=name-fa93cad3>Name:</label>
<input class="form__input js-form-name" id=name-fa93cad3 name=name type=text placeholder="Bruce Lee" autocomplete=off autocorrect=off autocapitalize=off spellcheck=false required></div><div class=form__col><label class=form__label for=website-fa93cad3>Website (optional):</label>
<input class="form__input js-form-website" id=website-fa93cad3 name=website type=url placeholder=https://brucelee.com autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=twitter-fa93cad3>Twitter (optional):</label>
<input class="form__input js-form-twitter" id=twitter-fa93cad3 name=twitter type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=github-fa93cad3>GitHub (optional):</label>
<input class="form__input js-form-github" id=github-fa93cad3 name=github type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=comment-textarea-fa93cad3>Comment:</label>
<textarea class="form__input form__input--textarea" id=comment-textarea-fa93cad3 name=comment placeholder="I think…" required></textarea><p class=form__tip>👆 you can use Markdown here</p></div><label class=form__row><input class="form__checkbox js-form-save-data" name=save type=checkbox>
<span class="form__label form__label--thin">Save my data for the next time I comment</span></label><div class="form__confirmation js-form__confirmation form__confirmation--hidden">Your comment is awaiting moderation. Thanks!</div><div class=form__row><button class=form__button type=submit>Submit comment</button></div><div class="form__loader__wrapper js-form__loader__wrapper form__loader__wrapper--hidden"><div class=form__loader></div></div></form></div><ul class=comments><li class=comments__item id=comment-2344b3ab><div class=comments__wrapper><div class=comments__author><img src=/assets/logo.jpg alt="Pawel Grzybek" class=comments__author__photo><div class=comments__author__data><div class=comments__author__name>Pawel Grzybek</div><div class=comments__author__metadata><time datetime=2017-08-29>2017.08.29, 09:33</time>,
<a class=comments__hash href=#comment-2344b3ab>#2344b3ab</a></div></div><div class=comments__socials><a href=https://pawelgrzybek.com class=comments__link title="Pawel Grzybek's website"><svg class="comments__link__icon" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="m13.757 19.868c-.416.0-.832-.159-1.149-.476-2.973-2.973-2.973-7.81.0-10.783l6-6c1.44-1.44 3.355-2.233 5.392-2.233s3.951.793 5.392 2.233c2.973 2.973 2.973 7.81.0 10.783l-2.743 2.743c-.635.635-1.663.635-2.298.0s-.635-1.663.0-2.298l2.743-2.743c1.706-1.706 1.706-4.481.0-6.187-.826-.826-1.925-1.281-3.094-1.281s-2.267.455-3.094 1.281l-6 6c-1.706 1.706-1.706 4.481.0 6.187.635.635.635 1.663.0 2.298-.317.317-.733.476-1.149.476z"/><path d="m8 31.625c-2.037.0-3.952-.793-5.392-2.233-2.973-2.973-2.973-7.81.0-10.783l2.743-2.743c.635-.635 1.664-.635 2.298.0s.635 1.663.0 2.298l-2.743 2.743c-1.706 1.706-1.706 4.481.0 6.187.826.826 1.925 1.281 3.094 1.281s2.267-.455 3.094-1.281l6-6c1.706-1.706 1.706-4.481.0-6.187-.635-.635-.635-1.663.0-2.298s1.663-.635 2.298.0c2.973 2.973 2.973 7.81.0 10.783l-6 6c-1.44 1.44-3.355 2.233-5.392 2.233z"/></svg></a><a href=https://twitter.com/pawelgrzybek class=comments__link title="Pawel Grzybek on Twitter"><svg class="comments__link__icon" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="m32 7.075c-1.175.525-2.444.875-3.769 1.031 1.356-.813 2.394-2.1 2.887-3.631-1.269.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625.0-6.563 2.938-6.563 6.563.0.512.056 1.012.169 1.494-5.456-.275-10.294-2.888-13.531-6.862-.563.969-.887 2.1-.887 3.3.0 2.275 1.156 4.287 2.919 5.463-1.075-.031-2.087-.331-2.975-.819v.081c0 3.181 2.263 5.838 5.269 6.437-.55.15-1.131.231-1.731.231-.425.0-.831-.044-1.237-.119.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-.531.0-1.05-.031-1.569-.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075.0 18.681-10.006 18.681-18.681.0-.287-.006-.569-.019-.85 1.281-.919 2.394-2.075 3.275-3.394z"/></svg></a><a href=https://github.com/pawelgrzybek class=comments__link title="Pawel Grzybek on GitHub"><svg class="comments__link__icon" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="m16 .395c-8.836.0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182.8.148 1.094-.347 1.094-.77.0-.381-.015-1.642-.022-2.979-4.452.968-5.391-1.888-5.391-1.888-.728-1.849-1.776-2.341-1.776-2.341-1.452-.993.11-.973.11-.973 1.606.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33.143-1.034.558-1.74 1.016-2.14-3.554-.404-7.29-1.777-7.29-7.907.0-1.747.625-3.174 1.649-4.295-.166-.403-.714-2.03.155-4.234.0.0 1.344-.43 4.401 1.64 1.276-.355 2.645-.532 4.005-.539 1.359.006 2.729.184 4.008.539 3.054-2.07 4.395-1.64 4.395-1.64.871 2.204.323 3.831.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295.0 6.145-3.743 7.498-7.306 7.895.574.497 1.085 1.47 1.085 2.963.0 2.141-.019 3.864-.019 4.391.0.426.288.925 1.099.768 6.354-2.118 10.933-8.113 10.933-15.18.0-8.837-7.164-16-16-16z"/></svg></a></div></div><p>Thanks a lot @disqus_vmsTsmU5VO:disqus :)</p><button class="comments__reply js-comments__reply">
Reply to Pawel Grzybek</button><form class="form form--hidden js-form"><input type=hidden name=parent value=2344b3ab><div class=form__col><label class=form__label for=name-2344b3ab>Name:</label>
<input class="form__input js-form-name" id=name-2344b3ab name=name type=text placeholder="Bruce Lee" autocomplete=off autocorrect=off autocapitalize=off spellcheck=false required></div><div class=form__col><label class=form__label for=website-2344b3ab>Website (optional):</label>
<input class="form__input js-form-website" id=website-2344b3ab name=website type=url placeholder=https://brucelee.com autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=twitter-2344b3ab>Twitter (optional):</label>
<input class="form__input js-form-twitter" id=twitter-2344b3ab name=twitter type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=github-2344b3ab>GitHub (optional):</label>
<input class="form__input js-form-github" id=github-2344b3ab name=github type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=comment-textarea-2344b3ab>Comment:</label>
<textarea class="form__input form__input--textarea" id=comment-textarea-2344b3ab name=comment placeholder="I think…" required></textarea><p class=form__tip>👆 you can use Markdown here</p></div><label class=form__row><input class="form__checkbox js-form-save-data" name=save type=checkbox>
<span class="form__label form__label--thin">Save my data for the next time I comment</span></label><div class="form__confirmation js-form__confirmation form__confirmation--hidden">Your comment is awaiting moderation. Thanks!</div><div class=form__row><button class=form__button type=submit>Submit comment</button></div><div class="form__loader__wrapper js-form__loader__wrapper form__loader__wrapper--hidden"><div class=form__loader></div></div></form></div></li></ul></li><li class=comments__item id=comment-a046007b><div class=comments__wrapper><div class=comments__author><div class=comments__author__photo style=background-color:#638547>L</div><div class=comments__author__data><div class=comments__author__name>Lee Roy</div><div class=comments__author__metadata><time datetime=2017-11-06>2017.11.06, 12:33</time>,
<a class=comments__hash href=#comment-a046007b>#a046007b</a></div></div><div class=comments__socials></div></div><p>How would you go about bringing background-reactive graphics to ebooks (.epub)?</p><p>Say you have a book, it displays graphics with black on white... but if the user wants to read on a dark background, the graphics should automatically switch to the white variant.</p><p>I have a feeling that this could be accomplished with blend modes, but not sure if EPUB readers support it.</p><p>Here's one of my attempts. I had a PhotoSwipe gallery and wanted to show the controls overlayed, without putting a background behind them. If the page background was white, I had to make them black. But then on zoom if the product image was dark and behind the black controls, they wouldn't be visible: <a title=https://i.imgur.com/KRmTObW.jpg rel="nofollow noopener" href=https://i.imgur.com/KRmTObW.jpg>Demo</a></p><p>Here's what I did to make the controls turn bright on dark backgrounds:</p><p>Start off with a transparent PNG sprite with the controls white.<br>Applied this CSS to the element that held the buttons:<br></p><pre><code><br>.pswp__top-bar {<br>  /* EDITED Dev experiment make buttons stand out on white OR black */<br>  /* Not supported on: IE, Edge, Safari, iOS, Opera Mini, Android Browser */<br>  filter: brightness(1.3);<br>  mix-blend-mode: exclusion;<br>}<br></code></pre><p></p><p><strong>Related:</strong><br></p><blockquote><br><a title=http://www.kennethcachia.com/background-check/ rel="nofollow noopener" href=http://www.kennethcachia.com/background-check/>BackgroundCheck – Automatically switch to a darker or a lighter version of an element depending on the brightness of images behind it.</a><br><br><br><a title=https://github.com/jamiebrittain/colourBrightness.js rel="nofollow noopener" href=https://github.com/jamiebrittain/colourBrightness.js>jamiebrittain/colourBrightness.js: A lightweight and easy-to-use jQuery plugin that determines if the background colour of an element is light or dark.</a><br></blockquote><p><br><br><br></p><button class="comments__reply js-comments__reply">
Reply to Lee Roy</button><form class="form form--hidden js-form"><input type=hidden name=parent value=a046007b><div class=form__col><label class=form__label for=name-a046007b>Name:</label>
<input class="form__input js-form-name" id=name-a046007b name=name type=text placeholder="Bruce Lee" autocomplete=off autocorrect=off autocapitalize=off spellcheck=false required></div><div class=form__col><label class=form__label for=website-a046007b>Website (optional):</label>
<input class="form__input js-form-website" id=website-a046007b name=website type=url placeholder=https://brucelee.com autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=twitter-a046007b>Twitter (optional):</label>
<input class="form__input js-form-twitter" id=twitter-a046007b name=twitter type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=github-a046007b>GitHub (optional):</label>
<input class="form__input js-form-github" id=github-a046007b name=github type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=comment-textarea-a046007b>Comment:</label>
<textarea class="form__input form__input--textarea" id=comment-textarea-a046007b name=comment placeholder="I think…" required></textarea><p class=form__tip>👆 you can use Markdown here</p></div><label class=form__row><input class="form__checkbox js-form-save-data" name=save type=checkbox>
<span class="form__label form__label--thin">Save my data for the next time I comment</span></label><div class="form__confirmation js-form__confirmation form__confirmation--hidden">Your comment is awaiting moderation. Thanks!</div><div class=form__row><button class=form__button type=submit>Submit comment</button></div><div class="form__loader__wrapper js-form__loader__wrapper form__loader__wrapper--hidden"><div class=form__loader></div></div></form></div></li><li class=comments__item id=comment-88f4348c><div class=comments__wrapper><div class=comments__author><div class=comments__author__photo style=background-color:#478564>A</div><div class=comments__author__data><div class=comments__author__name>Aaron Loften</div><div class=comments__author__metadata><time datetime=2018-01-26>2018.01.26, 21:22</time>,
<a class=comments__hash href=#comment-88f4348c>#88f4348c</a></div></div><div class=comments__socials></div></div><p>I dont like the fallback.<br>If you have an image that looks good without the mix-blend(or an image of how it should look with the mix-blend) then just use that image!</p><p>=/</p><p>Consistency should be the top goal when using a fallback and if the result is similar/the same to just use the fallback, then why bother with the css??</p><p>Example, using mix-blend to make a white background of a jpg transparent. If you have an image of what it will look like afterward, just use it! Especially if you plan on taking the image just to use it as a fallback.</p><p>This is especially true in the examples you gave above where the image changes significantly(like when blending two images instead of a background color with an image).</p><p>Still a good article. Dont take offense to it. We just need to remember consistency and simplicity are some of the best attributes for a developer's code.</p><button class="comments__reply js-comments__reply">
Reply to Aaron Loften</button><form class="form form--hidden js-form"><input type=hidden name=parent value=88f4348c><div class=form__col><label class=form__label for=name-88f4348c>Name:</label>
<input class="form__input js-form-name" id=name-88f4348c name=name type=text placeholder="Bruce Lee" autocomplete=off autocorrect=off autocapitalize=off spellcheck=false required></div><div class=form__col><label class=form__label for=website-88f4348c>Website (optional):</label>
<input class="form__input js-form-website" id=website-88f4348c name=website type=url placeholder=https://brucelee.com autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=twitter-88f4348c>Twitter (optional):</label>
<input class="form__input js-form-twitter" id=twitter-88f4348c name=twitter type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=github-88f4348c>GitHub (optional):</label>
<input class="form__input js-form-github" id=github-88f4348c name=github type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=comment-textarea-88f4348c>Comment:</label>
<textarea class="form__input form__input--textarea" id=comment-textarea-88f4348c name=comment placeholder="I think…" required></textarea><p class=form__tip>👆 you can use Markdown here</p></div><label class=form__row><input class="form__checkbox js-form-save-data" name=save type=checkbox>
<span class="form__label form__label--thin">Save my data for the next time I comment</span></label><div class="form__confirmation js-form__confirmation form__confirmation--hidden">Your comment is awaiting moderation. Thanks!</div><div class=form__row><button class=form__button type=submit>Submit comment</button></div><div class="form__loader__wrapper js-form__loader__wrapper form__loader__wrapper--hidden"><div class=form__loader></div></div></form></div><ul class=comments><li class=comments__item id=comment-94824cdc><div class=comments__wrapper><div class=comments__author><div class=comments__author__photo style=background-color:#854757>d</div><div class=comments__author__data><div class=comments__author__name>david_b79</div><div class=comments__author__metadata><time datetime=2019-06-14>2019.06.14, 17:43</time>,
<a class=comments__hash href=#comment-94824cdc>#94824cdc</a></div></div><div class=comments__socials></div></div><p>If you want to use the same image in multiple capacities it makes sense to not have multiple saved versions that all get cached. Using blend mode allows us to have one version of an image and use it to varying effect while still only caching one image.</p><button class="comments__reply js-comments__reply">
Reply to david_b79</button><form class="form form--hidden js-form"><input type=hidden name=parent value=94824cdc><div class=form__col><label class=form__label for=name-94824cdc>Name:</label>
<input class="form__input js-form-name" id=name-94824cdc name=name type=text placeholder="Bruce Lee" autocomplete=off autocorrect=off autocapitalize=off spellcheck=false required></div><div class=form__col><label class=form__label for=website-94824cdc>Website (optional):</label>
<input class="form__input js-form-website" id=website-94824cdc name=website type=url placeholder=https://brucelee.com autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=twitter-94824cdc>Twitter (optional):</label>
<input class="form__input js-form-twitter" id=twitter-94824cdc name=twitter type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=github-94824cdc>GitHub (optional):</label>
<input class="form__input js-form-github" id=github-94824cdc name=github type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=comment-textarea-94824cdc>Comment:</label>
<textarea class="form__input form__input--textarea" id=comment-textarea-94824cdc name=comment placeholder="I think…" required></textarea><p class=form__tip>👆 you can use Markdown here</p></div><label class=form__row><input class="form__checkbox js-form-save-data" name=save type=checkbox>
<span class="form__label form__label--thin">Save my data for the next time I comment</span></label><div class="form__confirmation js-form__confirmation form__confirmation--hidden">Your comment is awaiting moderation. Thanks!</div><div class=form__row><button class=form__button type=submit>Submit comment</button></div><div class="form__loader__wrapper js-form__loader__wrapper form__loader__wrapper--hidden"><div class=form__loader></div></div></form></div></li></ul></li><li class=comments__item id=comment-15956bb6><div class=comments__wrapper><div class=comments__author><div class=comments__author__photo style=background-color:#854767>G</div><div class=comments__author__data><div class=comments__author__name>Graphic Aid</div><div class=comments__author__metadata><time datetime=2019-06-20>2019.06.20, 06:18</time>,
<a class=comments__hash href=#comment-15956bb6>#15956bb6</a></div></div><div class=comments__socials></div></div><p>Nice Blog.We want more.<br><a title=https://www.graphic-aid.com rel="nofollow noopener" href=https://www.graphic-aid.com>Graphic Aid</a> | <a title=https://www.graphic-aid.com/clipping-path rel="nofollow noopener" href=https://www.graphic-aid.com/clipping-path>Clipping Path</a> | <a title=https://www.graphic-aid.com/neck-joint-service rel="nofollow noopener" href=https://www.graphic-aid.com/neck-joint-service>Neck Joint</a> | <a title=https://www.graphic-aid.com/photo-color-correction rel="nofollow noopener" href=https://www.graphic-aid.com/photo-color-correction>Color Correction</a> | <a title=https://www.graphic-aid.com/jewelry-retouching rel="nofollow noopener" href=https://www.graphic-aid.com/jewelry-retouching>Jewelry Retouching</a> | <a title=https://www.graphic-aid.com/photo-masking-service rel="nofollow noopener" href=https://www.graphic-aid.com/photo-masking-service>Masking</a> | <a title=https://www.graphic-aid.com/psd-to-html rel="nofollow noopener" href=https://www.graphic-aid.com/psd-to-html>PSD to HTML</a> | <a title=https://www.graphic-aid.com/web-banner rel="nofollow noopener" href=https://www.graphic-aid.com/web-banner>Web Banner</a> | <a title=https://www.graphic-aid.com/web-design-development rel="nofollow noopener" href=https://www.graphic-aid.com/web-design-development>Web Design</a></p><button class="comments__reply js-comments__reply">
Reply to Graphic Aid</button><form class="form form--hidden js-form"><input type=hidden name=parent value=15956bb6><div class=form__col><label class=form__label for=name-15956bb6>Name:</label>
<input class="form__input js-form-name" id=name-15956bb6 name=name type=text placeholder="Bruce Lee" autocomplete=off autocorrect=off autocapitalize=off spellcheck=false required></div><div class=form__col><label class=form__label for=website-15956bb6>Website (optional):</label>
<input class="form__input js-form-website" id=website-15956bb6 name=website type=url placeholder=https://brucelee.com autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=twitter-15956bb6>Twitter (optional):</label>
<input class="form__input js-form-twitter" id=twitter-15956bb6 name=twitter type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=github-15956bb6>GitHub (optional):</label>
<input class="form__input js-form-github" id=github-15956bb6 name=github type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=comment-textarea-15956bb6>Comment:</label>
<textarea class="form__input form__input--textarea" id=comment-textarea-15956bb6 name=comment placeholder="I think…" required></textarea><p class=form__tip>👆 you can use Markdown here</p></div><label class=form__row><input class="form__checkbox js-form-save-data" name=save type=checkbox>
<span class="form__label form__label--thin">Save my data for the next time I comment</span></label><div class="form__confirmation js-form__confirmation form__confirmation--hidden">Your comment is awaiting moderation. Thanks!</div><div class=form__row><button class=form__button type=submit>Submit comment</button></div><div class="form__loader__wrapper js-form__loader__wrapper form__loader__wrapper--hidden"><div class=form__loader></div></div></form></div></li></ul><h2 id=what-ya-think>What'ya think?</h2><form class="form js-form"><input type=hidden name=parent><div class=form__col><label class=form__label for=name->Name:</label>
<input class="form__input js-form-name" id=name- name=name type=text placeholder="Bruce Lee" autocomplete=off autocorrect=off autocapitalize=off spellcheck=false required></div><div class=form__col><label class=form__label for=website->Website (optional):</label>
<input class="form__input js-form-website" id=website- name=website type=url placeholder=https://brucelee.com autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=twitter->Twitter (optional):</label>
<input class="form__input js-form-twitter" id=twitter- name=twitter type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=github->GitHub (optional):</label>
<input class="form__input js-form-github" id=github- name=github type=text placeholder=brucelee autocomplete=off autocorrect=off autocapitalize=off spellcheck=false></div><div class=form__col><label class=form__label for=comment-textarea->Comment:</label>
<textarea class="form__input form__input--textarea" id=comment-textarea- name=comment placeholder="I think…" required></textarea><p class=form__tip>👆 you can use Markdown here</p></div><label class=form__row><input class="form__checkbox js-form-save-data" name=save type=checkbox>
<span class="form__label form__label--thin">Save my data for the next time I comment</span></label><div class="form__confirmation js-form__confirmation form__confirmation--hidden">Your comment is awaiting moderation. Thanks!</div><div class=form__row><button class=form__button type=submit>Submit comment</button></div><div class="form__loader__wrapper js-form__loader__wrapper form__loader__wrapper--hidden"><div class=form__loader></div></div></form></article><script src=/comments.js></script></main><footer class=footer>Copyright © 2021 Pawel Grzybek</footer></div></body></html>