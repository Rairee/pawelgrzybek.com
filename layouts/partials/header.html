<style>
  .header {
    position: relative;
    padding: calc(var(--lh) * 2) var(--lh);
    display: flex;
    flex-direction: column;
    gap: var(--lh);
  }

  .header__skip {
    position: absolute;
    top: 0;
    left: 0;
    padding-inline: calc(var(--lh) / 2);
    font-size: calc(var(--fz) / var(--type-scale));
    transform: scale(0);
  }

  .header__skip:focus {
    transform: scale(1);
  }

  .header__info {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .header__info__url,
  .header__info__description {
    margin: 0;
  }

  .header__info__url a {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: calc(var(--fz));
    font-weight: 400;
  }

  .header__info__url a::before {
    content: "";
    width: calc(var(--lh) * 2);
    height: calc(var(--lh) * 2);
    background-image: url("/assets/logo.jpg");
    background-size: 100% 100%;
    border-radius: var(--lh);
  }

  .header__nav {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .header__nav__container {
    display: flex;
  }

  .header__list {
    width: 100%;
    margin: 0;
    display: flex;
    justify-content: center;
    gap: calc(var(--lh) / 2);
    list-style: none;
  }

  .header__theme {
    display: flex;
    justify-content: center;
    gap: calc(var(--lh) / 2);
  }

  .header__theme__input {
    clip: rect(0 0 0 0);
    clip-path: inset(100%);
    height: 1px;
    overflow: hidden;
    position: absolute;
    white-space: nowrap;
    width: 1px;
  }

  .header__theme__label {
    cursor: pointer;
  }

  .header__theme__label--light {
    cursor: url("data:image/svg+xml;utf8, <svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' style='font-size: 24px'><text y='20'>‚òÄÔ∏è</text></svg>"),
      auto;
  }

  .header__theme__label--dark {
    cursor: url("data:image/svg+xml;utf8, <svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' style='font-size: 24px'><text y='20'>üåú</text></svg>"),
      auto;
  }

  .header__theme__input:checked + .header__theme__label {
    text-decoration: underline;
  }

  @media screen and (min-width: 764px) {
    .header__nav {
      flex-direction: row;
    }

    .header__nav__container::after {
      content: "¬∑";
      margin-inline: calc(var(--lh) / 4);
    }
  }

  @media screen and (min-width: 1096px) {
    .header__info {
      flex-direction: row;
    }

    .header__info__url a {
      flex-direction: row;
      gap: calc(var(--lh) / 2);
    }

    .header__info__description::before {
      content: "¬∑";
      margin-inline: calc(var(--lh) / 4);
    }

    .header {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }
  }
</style>

<header class="header">
  <a class="header__skip" href="#main">Skip to content</a>

  <div class="header__info">
    {{ if eq .IsHome true }}
    <h1 class="header__info__url">
      <a href="/">pawelgrzybek.com</a>
    </h1>
    {{ else }}
    <div class="header__info__url">
      <a href="/">pawelgrzybek.com</a>
    </div>
    {{ end }}
    <p class="header__info__description">Software Engineer at Heydoc</p>
  </div>

  <div class="header__nav">
    <nav class="header__nav__container">
      <ul class="header__list">
        <li class="header__item">
          <a href="/about" title="About">About</a>
        </li>
        <li class="header__item">
          <a href="/archive" title="Archive">Archive</a>
        </li>
        <li class="header__item">
          <a href="/feed.xml" title="RSS Feed">RSS</a>
        </li>
        <li class="header__item">
          <a
            href="https://twitter.com/pawelgrzybek"
            title="Pawel Grzybek on Twitter"
            >Twitter</a
          >
        </li>
        <li class="header__item">
          <a
            href="https://github.com/pawelgrzybek"
            title="Pawel Grzybek on GitHub"
            >GitHub</a
          >
        </li>
      </ul>
    </nav>
    <div class="header__theme">
      <input
        class="header__theme__input js-header__theme__input"
        type="radio"
        name="theme"
        id="auto"
        value="auto"
        checked
      />
      <label class="header__theme__label" for="auto">Auto</label>
      <input
        class="header__theme__input js-header__theme__input"
        type="radio"
        name="theme"
        id="light"
        value="light"
      />
      <label
        class="header__theme__label header__theme__label--light"
        for="light"
        >Light</label
      >
      <input
        class="header__theme__input js-header__theme__input"
        type="radio"
        name="theme"
        id="dark"
        value="dark"
      />
      <label class="header__theme__label header__theme__label--dark" for="dark"
        >Dark</label
      >
    </div>
  </div>
</header>

<script>
  const theme = localStorage.getItem("theme");
  const themeClassMapper = {
    auto: "theme-auto",
    light: "theme-light",
    dark: "theme-dark",
  };

  document.body.classList.add(themeClassMapper[theme]);

  document.querySelectorAll(".js-header__theme__input").forEach((input) => {
    input.checked = input.value === theme;

    input.addEventListener("change", () => {
      localStorage.setItem("theme", input.value);
      document.body.classList.remove(...Object.values(themeClassMapper));
      document.body.classList.add(themeClassMapper[input.value]);
    });
  });
</script>
